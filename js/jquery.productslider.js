/*
 * Copyright (c) 2013 Patric Gutersohn
 * http://www.ladensia.com
 *
 * Licensed under the MIT License
 */
var animation={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"};var animationName=animation[Modernizr.prefixed("animation")];var support=Modernizr.csstransforms&&Modernizr.cssanimations;(function(e){function t(t){t.addClass("product_slider");t.append('<div id="products"></div>');var n=t.find("#products");e.getJSON("js/products.json",function(t){var r=0;var i=t;e.each(i,function(t,r){var i=0;t=t.toLowerCase();n.append('<ul id="'+t+'"></ul>');var s=n.find("#"+t);e.each(r,function(e,t){s.append('<li><a href="'+t.link+'"><img src="'+t.image+'" alt="'+t.name+'"><h4>'+t.name+"</h4><p>"+t.price+"</p></a></li>")})});e(".product_slider ul:eq(0)").addClass("category-current")});e.getJSON("js/categories.json",function(n){var r=n.categories;t.append("<nav></nav>");var i=t.find("nav");e.each(r,function(e,t){i.append('<a href="#">'+t.name+"</a>")});i.find("a");i.find("a:first").addClass("category-selected")})}function n(e,t){if(t.width!="750"){e.css("width",t.width)}if(t.height!="280"){e.css("height",t.height)}if(t.style=="modern"){e.addClass("modern")}else if(t.style=="simple-grey"){e.css("background","#eee")}else if(t.style=="simple-grey-gradient"){e.addClass("grey-gradient")}else if(t.style=="simple"){e.css("background","#fff")}if(t.catchooser=="black-arrow"){e.addClass("black-arrow")}else if(t.catchooser=="black-round-arrow"){e.addClass("black-round-arrow")}}e.fn.productslider=function(r){var i=e.extend({width:"750",height:"280",style:"modern",catchooser:"black-arrow"},r);return this.each(function(){var r=e(this);t(r);n(r,i)})}})(jQuery);$(document).ready(function(){var e="";var t="";var n="";var r=false;current="";$categories=$(".product_slider #products ul");if(!jQuery.isEmptyObject($categories)){$("body").on("click",".product_slider nav a",function(){i($(this))});function i(n){e=n.index();t=$(".product_slider .category-selected").index();if(t==n.index()||r){return false}r=true;$(".product_slider nav a").removeClass("category-selected");n.addClass("category-selected");var i=e>current?"right":"left",s=i==="right"?"product-moveToLeft":"product-moveToRight",o=i==="right"?"product-moveFromRight":"product-moveFromLeft",u=$(".product_slider ul:eq("+t+")"),a=$(".product_slider ul:eq("+e+")");$newcatchild=a.children(),lastEnter=i==="right"?$newcatchild.length-1:0,self=this;if(!support){$categories.hide();a.show()}else{a.addClass("category-current")}if(support){u.removeClass().addClass(s);setTimeout(function(){a.removeClass().addClass(o);$newcatchild.eq(lastEnter).on(animationName,function(){$(this).off(animationName);a.addClass("category-current");self.current=e;var t=$(this);r=false})},$newcatchild.length*90)}else{u.hide();a.show();this.current=e;r=false}}}})